<!DOCTYPE html>
<html lang="en">

<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

   <meta name="viewport" content="width=device-width, user-scalable=yes">
   <title>Hex clock</title>
   <link rel="shortcut icon" href="http://www.jacopocolo.com/favicon.ico" type="image/x-icon">
   <meta name="Keywords" content="Jacopo Colò, Jacopo Colo, hex, clock, hexadecimal, colors">
   <meta name="description"
      content="A precise hexadecimal color clock that goes the whole 24 hours color range, from #000000 to #235959.">
   <style>
      html body {
         margin: 0;
         padding: 0;
         height: 100%;
         width: 100%;
      }

      #background {
         width: 100%;
         height: 100%;
         position: absolute;
         vertical-align: middle;
      }

      #hex {
         color: white;
         font-family: cursive;
         text-align: center;
         font-size: 4.5em;
         display: block;
         min-width: 200px;
         font-weight: 100;
      }

      #absolute-center {
         /*width: 50%;*/
         margin: auto;
         position: absolute;
         top: 50%;
         left: 50%;
         -webkit-transform: translate(-50%, -50%);
         -ms-transform: translate(-50%, -50%);
         transform: translate(-50%, -50%);
      }
   </style>
</head>

<body>
   <div id="background" style="background-color: rgb(21, 34, 77);">
      <div id="absolute-center">
         <p id="hex" style="text-shadow: 3px -2px 6px #D42251;">#15224D</p>
      </div>
   </div>

   <script>
      function refresh () {
         x = 1;  // x = seconds
         var d = new Date()
         var h = d.getHours();
         var m = d.getMinutes();
         var s = d.getSeconds();

         // HEX 颜色值代表时间
         // if (h <= 9) { h = '0' + h };
         // if (m <= 9) { m = '0' + m };
         // if (s <= 9) { s = '0' + s };
         // var color =  + h + m + s;

         let daySeconds = h * 60 * 60 + m * 60 + s
         color = (daySeconds).toString(16)
         if (color.length < 6) {
            for (let i = 0; i < 6 - color.length; i++) {
               color = '0' + color
            }
         }

         var textShadowColor = '#' + color.split("").reverse().join("");

         document.getElementById('hex').style.textShadow = '3px -2px 6px ' + textShadowColor

         color = '#' + color

         document.getElementById('background').style.backgroundColor = color
         document.getElementById('hex').innerHTML = color;

         setTimeout(refresh, x * 1000);
      }

      refresh(); 
   </script>
</body>

</html>